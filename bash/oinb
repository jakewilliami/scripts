#! /bin/bash

BASH_DIR="${HOME}/scripts/bash/"

if [[ $(hostname) == "jake-mbp2017.local" ]] && [[ $(whoami) == "jakeireland" ]]
then
    :
else
    # Ensure jq is installed
    source ${BASH_DIR}/dependencies/jq-dep.sh
fi

# Colours
source ${BASH_DIR}/colours/json-colour-parser.sh

display_help() {
    echo -e "${BWHITE}Usage: oinb [option... | file name...]${BWHITE}"
    echo
    echo -e "${ITWHITE}The present script will open a specified file in Brackets.app.  If the file is not found in the current directory, it will look for it in \`~/scripts/bash\`.  Need to manually run \`brew cask install brackets\`${NORM}"
    echo
    echo -e "${BBLUE}\t -h \t${BYELLOW}Shows help (present output).${NORM}"
    clean-exit
}


while getopts "h" OPTION; do
    case $OPTION in
        h)
            display_help
            ;; 
    esac
done

for f in $@
do
    if [[ -f $f ]] # Checks to see if file exists in current working directory
    then
        open -a "Brackets.app" $f
    else
        open -a "Brackets.app" ~/scripts/bash/$f
    fi
done


clean-exit
